<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>HPFAR_EL2</title>
    <link href="insn.css" rel="stylesheet" type="text/css" />
  </head>
  <body><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><hr /><h1 class="register-section">HPFAR_EL2, Hypervisor IPA Fault Address Register</h1><p>The HPFAR_EL2 characteristics are:</p><h2>Purpose</h2>
          <p>Holds the faulting IPA for some aborts on a stage 2 translation taken to EL2.</p>
        <p>This 
        register
       is part of:</p><ul><li>The Exception and fault handling registers functional group.</li><li>The Virtualization registers functional group.</li></ul><h2>Usage constraints</h2><p>This register is accessible as follows:</p><table class="register_access"><tr><th>EL0</th><th>EL1 (NS)</th><th>EL1 (S)</th><th>EL2 (NS)</th><th>EL3 (SCR.NS=1)</th><th>EL3 (SCR.NS=0)</th></tr><tr><td>-</td><td>-</td><td>-</td><td>RW</td><td>RW</td><td>RW</td></tr></table><h2>Traps and Enables</h2><p>There are no traps or enables affecting this register.</p><h2>Configuration</h2><p>AArch64 System register HPFAR_EL2 bits [31:0]
        
                are architecturally mapped to
              AArch32 System register <a href="AArch32-hpfar.html">HPFAR</a>.
          </p>
          <p>If EL2 is not implemented, this register is <span class="arm-defined-word">RES0</span> from EL3.</p>
        <p>
                RW fields in this register reset to architecturally <span class="arm-defined-word">UNKNOWN</span> values.
              </p><h2>Attributes</h2>
          <p>HPFAR_EL2 is a 64-bit register.</p>
        <h2>Field descriptions</h2><p>The HPFAR_EL2 bit assignments are:</p><table class="regdiagram"><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td></tr></thead><tbody><tr class="firstrow"><td class="l">0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td class="r">0</td><td class="lr" colspan="8"><a href="#FIPA[47:12]">FIPA[47:12]</a></td></tr><tr class="firstrow"><td class="lr" colspan="28"><a href="#FIPA[47:12]">FIPA[47:12]</a></td><td class="l">0</td><td>0</td><td>0</td><td class="r">0</td></tr></tbody><tfoot><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></tfoot></table><div class="text_before_fields">
            <p>Execution at EL1 or EL0 makes HPFAR_EL2 become <span class="arm-defined-word">UNKNOWN</span>.</p>
          </div><h4 id="0">
                Bits [63:40]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="FIPA[47:12]">FIPA[47:12], bits [39:4]
                  </h4>
              <p>Bits [47:12] of the faulting intermediate physical address. For implementations with fewer than 48 physical address bits, the corresponding upper bits in this field are <span class="arm-defined-word">RES0</span>.</p>
            
              <p>The HPFAR_EL2 is written for:</p>
            
              <ul>
                <li>
                  Translation or Access faults in the second stage of translation.
                </li>
                <li>
                  An abort in the second stage of translation performed during the translation table walk of a first stage translation, caused by a Translation fault, an Access flag fault, or a Permission  fault.
                </li>
                <li>
                  A stage 2 Address size fault.
                </li>
              </ul>
            
              <div class="note"><span class="note-header">Note</span>
                <p>The address held in this register is an address accessed by the instruction fetch or data access that caused the exception that gave rise to the instruction or data abort. It is the lowest address that gave rise to the fault. Where different faults from different addresses arise from the same instruction, such as for an instruction that loads or stores a mis-aligned address that crosses a page boundary, the architecture does not prioritize between those different faults.</p>
              </div>
            
              <p>For all other exceptions taken to EL2, this register is <span class="arm-defined-word">UNKNOWN</span>.</p>
            <h4 id="0">
                Bits [3:0]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h2>Accessing the HPFAR_EL2</h2><p>To access the HPFAR_EL2:</p><p class="asm-code">MRS &lt;Xt&gt;, HPFAR_EL2 ; Read HPFAR_EL2 into Xt</p><p class="asm-code">MSR HPFAR_EL2, &lt;Xt&gt; ; Write Xt to HPFAR_EL2</p><p>Register access is encoded as follows:</p><table class="info"><tr><th>op0</th><th>op1</th><th>CRn</th><th>CRm</th><th>op2</th></tr><tr><td>11</td><td>100</td><td>0110</td><td>0000</td><td>100</td></tr></table><br /><br /><hr /><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><p class="versions">24/03/2017 15:40</p><p class="copyconf">Copyright Â© 2010-2017 ARM Limited or its affiliates. All rights reserved. This document is Confidential.</p></body>
</html>
