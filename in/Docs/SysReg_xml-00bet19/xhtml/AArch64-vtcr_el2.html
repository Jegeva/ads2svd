<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>VTCR_EL2</title>
    <link href="insn.css" rel="stylesheet" type="text/css" />
  </head>
  <body><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><hr /><h1 class="register-section">VTCR_EL2, Virtualization Translation Control Register</h1><p>The VTCR_EL2 characteristics are:</p><h2>Purpose</h2>
          <p>The control register for stage 2 of the EL1&amp;0 translation regime.</p>
        <p>This 
        register
       is part of:</p><ul><li>The Virtualization registers functional group.</li><li>The Virtual memory control registers functional group.</li></ul><h2>Usage constraints</h2><p>This register is accessible as follows:</p><table class="register_access"><tr><th>EL0</th><th>EL1 (NS)</th><th>EL1 (S)</th><th>EL2 (NS)</th><th>EL3 (SCR.NS=1)</th><th>EL3 (SCR.NS=0)</th></tr><tr><td>-</td><td>-</td><td>-</td><td>RW</td><td>RW</td><td>RW</td></tr></table>
          <p>Any of the bits in VTCR_EL2 are permitted to be cached in a TLB.</p>
        <h2>Traps and Enables</h2><p>There are no traps or enables affecting this register.</p><h2>Configuration</h2><p>AArch64 System register VTCR_EL2
                is architecturally mapped to
              AArch32 System register <a href="AArch32-vtcr.html">VTCR</a>.
          </p>
          <p>If EL2 is not implemented, this register is <span class="arm-defined-word">RES0</span> from EL3.</p>
        <p>
                RW fields in this register reset to architecturally <span class="arm-defined-word">UNKNOWN</span> values.
              </p><h2>Attributes</h2>
          <p>VTCR_EL2 is a 32-bit register.</p>
        <h2>Field descriptions</h2><p>The VTCR_EL2 bit assignments are:</p><table class="regdiagram"><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr class="firstrow"><td class="lr">1</td><td class="l">0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td class="r">0</td><td class="lr" colspan="3"><a href="#PS">PS</a></td><td class="lr" colspan="2"><a href="#TG0">TG0</a></td><td class="lr" colspan="2"><a href="#SH0">SH0</a></td><td class="lr" colspan="2"><a href="#ORGN0">ORGN0</a></td><td class="lr" colspan="2"><a href="#IRGN0">IRGN0</a></td><td class="lr" colspan="2"><a href="#SL0">SL0</a></td><td class="lr" colspan="6"><a href="#T0SZ">T0SZ</a></td></tr></tbody></table><h4 id="1">
                Bit [31]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES1</span>.</p>
            <h4 id="0">
                Bits [30:19]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="PS">PS, bits [18:16]
                  </h4>
              <p>Physical Address Size.</p>
            <table class="valuetable"><tr><th>PS</th><th>Meaning</th></tr><tr><td class="bitfield">000</td><td>
                  <p>32 bits, 4GB.</p>
                </td></tr><tr><td class="bitfield">001</td><td>
                  <p>36 bits, 64GB.</p>
                </td></tr><tr><td class="bitfield">010</td><td>
                  <p>40 bits, 1TB.</p>
                </td></tr><tr><td class="bitfield">011</td><td>
                  <p>42 bits, 4TB.</p>
                </td></tr><tr><td class="bitfield">100</td><td>
                  <p>44 bits, 16TB.</p>
                </td></tr><tr><td class="bitfield">101</td><td>
                  <p>48 bits, 256TB.</p>
                </td></tr></table>
              <p>Other values are reserved.</p>
            
              <p>The reserved values behave in the same way as the <span class="binarynumber">101</span> encoding, but software must not rely on this property as the behavior of the reserved values might change in a future revision of the architecture.</p>
            
              <p>In an implementation that supports 52-bit PAs, if the value of this field is not <span class="binarynumber">110</span>, then bits[51:48] of every translation table base address for the stage of translation controlled by VTCR_EL2 are <span class="binarynumber">0000</span>.</p>
            <h4 id="TG0">TG0, bits [15:14]
                  </h4>
              <p>Granule size for the <a href="AArch64-vttbr_el2.html">VTTBR_EL2</a>.</p>
            <table class="valuetable"><tr><th>TG0</th><th>Meaning</th></tr><tr><td class="bitfield">00</td><td>
                  <p>4KB</p>
                </td></tr><tr><td class="bitfield">01</td><td>
                  <p>64KB</p>
                </td></tr><tr><td class="bitfield">10</td><td>
                  <p>16KB</p>
                </td></tr></table>
              <p>Other values are reserved.</p>
            
              <p>If the value is programmed to either a reserved value, or a size that has not been implemented, then the hardware will treat the field as if it has been programmed to an <span class="arm-defined-word">IMPLEMENTATION DEFINED</span> choice of the sizes that has been implemented for all purposes other than the value read back from this register.</p>
            
              <p>It is <span class="arm-defined-word">IMPLEMENTATION DEFINED</span> whether the value read back is the value programmed or the value that corresponds to the size chosen.</p>
            <h4 id="SH0">SH0, bits [13:12]
                  </h4>
              <p>Shareability attribute for memory associated with translation table walks using <a href="AArch64-vttbr_el2.html">VTTBR_EL2</a>.</p>
            <table class="valuetable"><tr><th>SH0</th><th>Meaning</th></tr><tr><td class="bitfield">00</td><td>
                  <p>Non-shareable</p>
                </td></tr><tr><td class="bitfield">10</td><td>
                  <p>Outer Shareable</p>
                </td></tr><tr><td class="bitfield">11</td><td>
                  <p>Inner Shareable</p>
                </td></tr></table>
              <p>Other values are reserved. The effect of programming this field to a Reserved value is that behavior is <span class="arm-defined-word">CONSTRAINED UNPREDICTABLE</span>, as described in <span class="xref">'Reserved values in AArch64 System registers and translation table entries' in the ARM ARM, section K1.2.2</span>.</p>
            <h4 id="ORGN0">ORGN0, bits [11:10]
                  </h4>
              <p>Outer cacheability attribute for memory associated with translation table walks using <a href="AArch64-vttbr_el2.html">VTTBR_EL2</a>.</p>
            <table class="valuetable"><tr><th>ORGN0</th><th>Meaning</th></tr><tr><td class="bitfield">00</td><td>
                  <p>Normal memory, Outer Non-cacheable</p>
                </td></tr><tr><td class="bitfield">01</td><td>
                  <p>Normal memory, Outer Write-Back Read-Allocate Write-Allocate Cacheable</p>
                </td></tr><tr><td class="bitfield">10</td><td>
                  <p>Normal memory, Outer Write-Through Read-Allocate No Write-Allocate Cacheable</p>
                </td></tr><tr><td class="bitfield">11</td><td>
                  <p>Normal memory, Outer Write-Back Read-Allocate No Write-Allocate Cacheable</p>
                </td></tr></table><h4 id="IRGN0">IRGN0, bits [9:8]
                  </h4>
              <p>Inner cacheability attribute for memory associated with translation table walks using <a href="AArch64-vttbr_el2.html">VTTBR_EL2</a>.</p>
            <table class="valuetable"><tr><th>IRGN0</th><th>Meaning</th></tr><tr><td class="bitfield">00</td><td>
                  <p>Normal memory, Inner Non-cacheable</p>
                </td></tr><tr><td class="bitfield">01</td><td>
                  <p>Normal memory, Inner Write-Back Read-Allocate Write-Allocate Cacheable</p>
                </td></tr><tr><td class="bitfield">10</td><td>
                  <p>Normal memory, Inner Write-Through Read-Allocate No Write-Allocate Cacheable</p>
                </td></tr><tr><td class="bitfield">11</td><td>
                  <p>Normal memory, Inner Write-Back Read-Allocate No Write-Allocate Cacheable</p>
                </td></tr></table><h4 id="SL0">SL0, bits [7:6]
                  </h4>
              <p>Starting level of the <a href="AArch64-vtcr_el2.html">VTCR_EL2</a> addressed region. The meaning of this field depends on the value of VTCR_EL2.TG0 (the granule size).</p>
            <table class="valuetable"><tr><th>SL0</th><th>Meaning</th></tr><tr><td class="bitfield">00</td><td>
                  <p>If TG0 is <span class="binarynumber">00</span> (4KB granule), start at level 2. If TG0 is <span class="binarynumber">10</span> (16KB granule) or <span class="binarynumber">01</span> (64KB granule), start at level 3.</p>
                </td></tr><tr><td class="bitfield">01</td><td>
                  <p>If TG0 is <span class="binarynumber">00</span> (4KB granule), start at level 1. If TG0 is <span class="binarynumber">10</span> (16KB granule) or <span class="binarynumber">01</span> (64KB granule), start at level 2.</p>
                </td></tr><tr><td class="bitfield">10</td><td>
                  <p>If TG0 is <span class="binarynumber">00</span> (4KB granule), start at level 0. If TG0 is <span class="binarynumber">10</span> (16KB granule) or <span class="binarynumber">01</span> (64KB granule), start at level 1.</p>
                </td></tr></table>
              <p>All other values are reserved. If this field is programmed to a reserved value, or to a value that is not consistent with the programming of T0SZ, then a stage 2 level 0 Translation fault is generated.</p>
            <h4 id="T0SZ">T0SZ, bits [5:0]
                  </h4>
              <p>The size offset of the memory region addressed by <a href="AArch64-vttbr_el2.html">VTTBR_EL2</a>. The region size is 2<sup>(64-T0SZ)</sup> bytes.</p>
            
              <p>The maximum and minimum possible values for T0SZ depend on the level of translation table and the memory translation granule size, as described in the AArch64 Virtual Memory System Architecture chapter.</p>
            
              <p>If this field is programmed to a value that is not consistent with the programming of SL0 then a stage 2 level 0 Translation fault is generated.</p>
            <h2>Accessing the VTCR_EL2</h2><p>To access the VTCR_EL2:</p><p class="asm-code">MRS &lt;Xt&gt;, VTCR_EL2 ; Read VTCR_EL2 into Xt</p><p class="asm-code">MSR VTCR_EL2, &lt;Xt&gt; ; Write Xt to VTCR_EL2</p><p>Register access is encoded as follows:</p><table class="info"><tr><th>op0</th><th>op1</th><th>CRn</th><th>CRm</th><th>op2</th></tr><tr><td>11</td><td>100</td><td>0010</td><td>0001</td><td>010</td></tr></table><br /><br /><hr /><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><p class="versions">24/03/2017 15:40</p><p class="copyconf">Copyright © 2010-2017 ARM Limited or its affiliates. All rights reserved. This document is Confidential.</p></body>
</html>
