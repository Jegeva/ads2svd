<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>ELR_EL2</title>
    <link href="insn.css" rel="stylesheet" type="text/css" />
  </head>
  <body><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><hr /><h1 class="register-section">ELR_EL2, Exception Link Register (EL2)</h1><p>The ELR_EL2 characteristics are:</p><h2>Purpose</h2>
          <p>When taking an exception to EL2, holds the address to return to.</p>
        <p>This 
        register
       is part of the Special-purpose registers functional group.</p><h2>Usage constraints</h2><p>This register is accessible as follows:</p><table class="register_access"><tr><th>EL0</th><th>EL1 (NS)</th><th>EL1 (S)</th><th>EL2 (NS)</th><th>EL3 (SCR.NS=1)</th><th>EL3 (SCR.NS=0)</th></tr><tr><td>-</td><td>-</td><td>-</td><td>RW</td><td>RW</td><td>RW</td></tr></table>
          <p>An exception return from EL2 using AArch64 makes ELR_EL2 become <span class="arm-defined-word">UNKNOWN</span>.</p>
        
          <p>When EL2 is in AArch32 Execution state and an exception is taken from EL0, EL1, or EL2 to EL3 and AArch64 execution, the upper 32-bits of ELR_EL2 are either set to 0 or hold the same value that they did before AArch32 execution. Which option is adopted is determined by an implementation, and might vary dynamically within an implementation. Correspondingly software must regard the value as being an <span class="arm-defined-word">UNKNOWN</span> choice between the two values.</p>
        <h2>Traps and Enables</h2><p>There are no traps or enables affecting this register.</p><h2>Configuration</h2><p>AArch64 System register ELR_EL2
                is architecturally mapped to
              AArch32 System register <a href="AArch32-elr_hyp.html">ELR_hyp</a>.
          </p><h2>Attributes</h2>
          <p>ELR_EL2 is a 64-bit register.</p>
        <h2>Field descriptions</h2><p>The ELR_EL2 bit assignments are:</p><table class="regdiagram"><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td></tr></thead><tbody><tr class="firstrow"><td class="lr" colspan="32"><a href="#Returnaddress">Return address</a></td></tr><tr class="firstrow"><td class="lr" colspan="32"><a href="#Returnaddress">Return address</a></td></tr></tbody><tfoot><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></tfoot></table><h4 id="Returnaddress">
                Bits [63:0]
              </h4>
              <p>Return address.</p>
            
              <p>An exception return from EL2 using AArch64 makes ELR_EL2 become <span class="arm-defined-word">UNKNOWN</span>.</p>
            
              <p>When EL2 is in AArch32 Execution state and an exception is taken from EL0, EL1, or EL2 to EL3 and AArch64 execution, the upper 32-bits of ELR_EL2 are either set to 0 or hold the same value that they did before AArch32 execution. Which option is adopted is determined by an implementation, and might vary dynamically within an implementation. Correspondingly software must regard the value as being an <span class="arm-defined-word">UNKNOWN</span> choice between the two values.</p>
            <h2>Accessing the ELR_EL2</h2><p>To access the ELR_EL2:</p><p class="asm-code">MRS &lt;Xt&gt;, ELR_EL2 ; Read ELR_EL2 into Xt</p><p class="asm-code">MSR ELR_EL2, &lt;Xt&gt; ; Write Xt to ELR_EL2</p><p>Register access is encoded as follows:</p><table class="info"><tr><th>op0</th><th>op1</th><th>CRn</th><th>CRm</th><th>op2</th></tr><tr><td>11</td><td>100</td><td>0100</td><td>0000</td><td>001</td></tr></table><br /><br /><hr /><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><p class="versions">24/03/2017 15:40</p><p class="copyconf">Copyright Â© 2010-2017 ARM Limited or its affiliates. All rights reserved. This document is Confidential.</p></body>
</html>
