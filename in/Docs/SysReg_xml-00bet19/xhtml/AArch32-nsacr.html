<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>NSACR</title>
    <link href="insn.css" rel="stylesheet" type="text/css" />
  </head>
  <body><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><hr /><h1 class="register-section">NSACR, Non-Secure Access Control Register</h1><p>The NSACR characteristics are:</p><h2>Purpose</h2>
          <p>When EL3 is implemented and can use AArch32, defines the Non-secure access permissions to Trace, Advanced SIMD and floating-point functionality. Also includes <span class="arm-defined-word">IMPLEMENTATION DEFINED</span> bits that can define Non-secure access permissions for <span class="arm-defined-word">IMPLEMENTATION DEFINED</span> functionality.</p>
        <p>This 
        register
       is part of the Security registers functional group.</p><h2>Usage constraints</h2><p>If EL3 is implemented and is using AArch32, this register is accessible as follows:</p><table class="register_access"><tr><th>EL0 (NS)</th><th>EL0 (S)</th><th>EL1 (NS)</th><th>EL2 (NS)</th><th>EL3 (SCR.NS=1)</th><th>EL3 (SCR.NS=0)</th></tr><tr><td>-</td><td>-</td><td>RO</td><td>RO</td><td>RW</td><td>RW</td></tr></table><p>If EL3 is not implemented or EL3 is implemented and is using AArch64, this register is accessible as follows:</p><table class="register_access"><tr><th>EL0</th><th>EL1</th><th>EL2 (NS)</th></tr><tr><td>-</td><td>RO</td><td>RO</td></tr></table>
          <p>If EL3 is implemented and is using AArch64 then:</p>
        
          <ul>
            <li>
              Any read of the NSACR from Non-secure EL2 using AArch32 or Non-secure EL1 using AArch32 returns a value of <span class="hexnumber">0x00000C00</span>.
            </li>
            <li>
              Any read or write to NSACR from Secure EL1 using AArch32 is trapped as an exception to EL3.
            </li>
          </ul>
        
          <p>If EL3 is not implemented, then any read of the NSACR from EL2 using AArch32 or from EL1 using AArch32 returns a value of <span class="hexnumber">0x00000C00</span>.</p>
        <h2>Traps and Enables</h2><p>For a description of the prioritization of any generated exceptions, see section G1.11.2 (Exception priority order) in the <i>ARM<sup>®</sup> Architecture Reference Manual, ARMv8, for ARMv8-A architecture profile</i> for exceptions taken to AArch32 state, and section D1.13.2 (Synchronous exception prioritization) for exceptions taken to AArch64 state. Subject to the prioritization rules:</p>
          <p>If <a href="AArch32-hstr.html">HSTR</a>.T1==1, Non-secure read accesses to this register from EL1 are trapped to Hyp mode.</p>
        
          <p>If <a href="AArch64-hstr_el2.html">HSTR_EL2</a>.T1==1, Non-secure read accesses to this register from EL1 are trapped to EL2.</p>
        <h2>Configuration</h2>
        <p>There is one instance of this register that is used in both Secure and Non-secure states.</p>
      
          <div class="note"><span class="note-header">Note</span>
            <p>In AArch64 state, the NSACR controls are replaced by controls in <a href="AArch64-cptr_el3.html">CPTR_EL3</a>.</p>
          </div>
        <p>
                Some or all RW fields of this register have defined reset values. 
                
        These apply
      
                whenever the register is accessible. 
                This means they apply when the PE resets into EL3 using AArch32.
              </p><h2>Attributes</h2>
          <p>NSACR is a 32-bit register.</p>
        <h2>Field descriptions</h2><p>The NSACR bit assignments are:</p><table class="regdiagram"><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr class="firstrow"><td class="l">0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td class="r">0</td><td class="lr" colspan="1"><a href="#NSTRCDIS">NSTRCDIS</a></td><td class="lr">0</td><td class="lr" colspan="3"><a href="#IMPLEMENTATIONDEFINED">IMPLEMENTATION DEFINED</a></td><td class="lr" colspan="1"><a href="#NSASEDIS">NSASEDIS</a></td><td class="l">0</td><td>0</td><td class="r">0</td><td class="lr" colspan="1"><a href="#cp11">cp11</a></td><td class="lr" colspan="1"><a href="#cp10">cp10</a></td><td class="l">0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td class="r">0</td></tr></tbody></table><h4 id="0">
                Bits [31:21]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="NSTRCDIS">NSTRCDIS, bit [20]
              </h4>
              <p>Disables Non-secure System register accesses to all implemented trace registers.</p>
            <table class="valuetable"><tr><th>NSTRCDIS</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>This control has no effect on:</p>
                
                  <ul>
                    <li>
                      System register access to implemented trace registers.
                    </li>
                    <li>
                      The behavior of <a href="AArch32-cpacr.html">CPACR</a>.TRCDIS and <a href="AArch32-hcptr.html">HCPTR</a>.TTA.
                    </li>
                  </ul>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>Non-secure System register accesses to all implemented trace registers are disabled, meaning:</p>
                
                  <ul>
                    <li>
                      <a href="AArch32-cpacr.html">CPACR</a>.TRCDIS behaves as RAO/WI in Non-secure state, regardless of its actual value.
                    </li>
                    <li>
                      <a href="AArch32-hcptr.html">HCPTR</a>.TTA behaves as RAO/WI, regardless of its actual value.
                    </li>
                  </ul>
                </td></tr></table>
              <p>The implementation of this field must correspond to the implementation of the <a href="AArch32-cpacr.html">CPACR</a>.TRCDIS field:</p>
            
              <ul>
                <li>
                  If <a href="AArch32-cpacr.html">CPACR</a>.TRCDIS is RAZ/WI, this field is RAZ/WI.
                </li>
                <li>
                  If <a href="AArch32-cpacr.html">CPACR</a>.TRCDIS is RW, this field is RW.
                </li>
              </ul>
            
              <div class="note"><span class="note-header">Note</span>
                <ul>
                  <li>
                    The ETMv4 architecture does not permit EL0 to access the trace registers. If the implementation includes an ETMv4 implementation, EL0 accesses to the trace registers are <span class="arm-defined-word">UNDEFINED</span>.
                  </li>
                  <li>
                    The architecture does not provide Non-secure access controls on trace register accesses through the optional memory-mapped external debug interface.
                  </li>
                </ul>
              </div>
            
              <p>System register accesses to the trace registers can have side-effects. When a System register access is trapped, any side-effects that are normally associated with the access do not occur before the exception is taken.</p>
            <p>When this register has an architecturally-defined reset value, if this field is implemented as an RW field, it resets to <span class="binarynumber">0</span>.</p><h4 id="0">
                Bit [19]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="IMPLEMENTATION DEFINED">IMPLEMENTATION DEFINED, bits [18:16]
                  </h4>
              <p><span class="arm-defined-word">IMPLEMENTATION DEFINED</span>.</p>
            <h4 id="NSASEDIS">NSASEDIS, bit [15]
              </h4>
              <p>Disables Non-secure access to the Advanced SIMD functionality.</p>
            <table class="valuetable"><tr><th>NSASEDIS</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>This control has no effect on:</p>
                
                  <ul>
                    <li>
                      Non-secure access to Advanced SIMD functionality.
                    </li>
                    <li>
                      The behavior of <a href="AArch32-cpacr.html">CPACR</a>.ASEDIS and <a href="AArch32-hcptr.html">HCPTR</a>.TASE.
                    </li>
                  </ul>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>Non-secure access to the Advanced SIMD functionality is disabled, meaning:</p>
                
                  <ul>
                    <li>
                      <a href="AArch32-cpacr.html">CPACR</a>.ASEDIS behaves as RAO/WI in Non-secure state, regardless of its actual value.
                    </li>
                    <li>
                      <a href="AArch32-hcptr.html">HCPTR</a>.TASE behaves as RAO/WI, regardless of its actual value.
                    </li>
                  </ul>
                </td></tr></table>
              <p>The implementation of this field must correspond to the implementation of the <a href="AArch32-cpacr.html">CPACR</a>.ASEDIS field:</p>
            
              <ul>
                <li>
                  If <a href="AArch32-cpacr.html">CPACR</a>.ASEDIS is <span class="arm-defined-word">RES0</span>, this field is <span class="arm-defined-word">RES0</span>. If the implementation does not include Advanced SIMD and floating-point functionality, this field is <span class="arm-defined-word">RES0</span>.
                </li>
                <li>
                  If <a href="AArch32-cpacr.html">CPACR</a>.ASEDIS is RAZ/WI, this field is RAZ/WI.
                </li>
                <li>
                  If <a href="AArch32-cpacr.html">CPACR</a>.ASEDIS is RW, this field is RW.
                </li>
              </ul>
            <p>When this register has an architecturally-defined reset value, if this field is implemented as an RW field, it resets to <span class="binarynumber">0</span>.</p><h4 id="0">
                Bits [14:12]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="cp11">cp11, bit [11]
              </h4>
              <p>The value of this field is ignored. If this field is programmed with a different value to the cp10 field then this field is <span class="arm-defined-word">UNKNOWN</span> on a direct read of the NSACR.</p>
            
              <p>If the implementation does not include Advanced SIMD and floating-point functionality, this field is <span class="arm-defined-word">RES0</span>.</p>
            <p>When this register has an architecturally-defined reset value, if this field is implemented as an RW field, it resets to an architecturally <span class="arm-defined-word">UNKNOWN</span> value.</p><h4 id="cp10">cp10, bit [10]
              </h4>
              <p>Enable Non-secure access to the Advanced SIMD and floating-point features. Possible values of the fields are:</p>
            <table class="valuetable"><tr><th>cp10</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>Advanced SIMD and floating-point features can be accessed only from Secure state. Any attempt to access this functionality from Non-secure state is <span class="arm-defined-word">UNDEFINED</span>.</p>
                
                  <p>When the PE is in Non-secure state:</p>
                
                  <ul>
                    <li>
                      The <a href="AArch32-cpacr.html">CPACR</a>.{cp11, cp10} fields ignore writes and read as <span class="binarynumber">0b00</span>, access denied.
                    </li>
                    <li>
                      The <a href="AArch32-hcptr.html">HCPTR</a>.{TCP11, TCP10} fields behave as RAO/WI, regardless of their actual values.
                    </li>
                  </ul>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>Advanced SIMD and floating-point features can be accessed from both Security states.</p>
                </td></tr></table>
              <p>If Non-secure access to the Advanced SIMD and floating-point functionality is enabled, the <a href="AArch32-cpacr.html">CPACR</a> must be checked to determine the level of access that is permitted.</p>
            
              <p>The Advanced SIMD and floating-point features controlled by these fields are:</p>
            
              <ul>
                <li>
                  Execution of any floating-point or Advanced SIMD instruction.
                </li>
                <li>
                  Any access to the Advanced SIMD and floating-point registers D0-D31 and their views as S0-S31 and Q0-Q15.
                </li>
                <li>
                  Any access to the <a href="AArch32-fpscr.html">FPSCR</a>, <a href="AArch32-fpsid.html">FPSID</a>, <a href="AArch32-mvfr0.html">MVFR0</a>, <a href="AArch32-mvfr1.html">MVFR1</a>, <a href="AArch32-mvfr2.html">MVFR2</a>, or <a href="AArch32-fpexc.html">FPEXC</a> System registers.
                </li>
              </ul>
            
              <p>If the implementation does not include Advanced SIMD and floating-point functionality, this field is <span class="arm-defined-word">RES0</span>.</p>
            <p>When this register has an architecturally-defined reset value, if this field is implemented as an RW field, it resets to an architecturally <span class="arm-defined-word">UNKNOWN</span> value.</p><h4 id="0">
                Bits [9:0]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h2>Accessing the NSACR</h2><p>To access the NSACR:</p><p class="asm-code">MRC p15,0,&lt;Rt&gt;,c1,c1,2 ; Read NSACR into Rt</p><p class="asm-code">MCR p15,0,&lt;Rt&gt;,c1,c1,2 ; Write Rt to NSACR</p><p>Register access is encoded as follows:</p><table class="info"><tr><th>coproc</th><th>opc1</th><th>CRn</th><th>CRm</th><th>opc2</th></tr><tr><td>1111</td><td>000</td><td>0001</td><td>0001</td><td>010</td></tr></table><br /><br /><hr /><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><p class="versions">24/03/2017 15:40</p><p class="copyconf">Copyright © 2010-2017 ARM Limited or its affiliates. All rights reserved. This document is Confidential.</p></body>
</html>
