<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>SCR_EL3</title>
    <link href="insn.css" rel="stylesheet" type="text/css" />
  </head>
  <body><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><hr /><h1 class="register-section">SCR_EL3, Secure Configuration Register</h1><p>The SCR_EL3 characteristics are:</p><h2>Purpose</h2>
          <p>Defines the configuration of the current Security state. It specifies:</p>
        
          <ul>
            <li>
              The Security state of EL0 and EL1, either Secure or Non-secure.
            </li>
            <li>
              The Execution state at lower Exception levels.
            </li>
            <li>
              Whether IRQ, FIQ, and External Abort interrupts are taken to EL3.
            </li>
          </ul>
        <p>This 
        register
       is part of the Security registers functional group.</p><h2>Configuration</h2><p>AArch64 System register SCR_EL3 
            can be mapped to 
            AArch32 System register <a href="AArch32-scr-s.html">SCR</a>, but this is not architecturally mandated.
          </p><p>
                RW fields in this register reset to architecturally <span class="arm-defined-word">UNKNOWN</span> values.
              </p><h2>Attributes</h2>
          <p>SCR_EL3 is a 32-bit register.</p>
        <h2>Field descriptions</h2><p>The SCR_EL3 bit assignments are:</p><table class="regdiagram"><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr class="firstrow"><td class="l">0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td class="r">0</td><td class="lr" colspan="1"><a href="#TERR">TERR</a></td><td class="lr" colspan="1"><a href="#TLOR">TLOR</a></td><td class="lr" colspan="1"><a href="#TWE">TWE</a></td><td class="lr" colspan="1"><a href="#TWI">TWI</a></td><td class="lr" colspan="1"><a href="#ST">ST</a></td><td class="lr" colspan="1"><a href="#RW">RW</a></td><td class="lr" colspan="1"><a href="#SIF">SIF</a></td><td class="lr" colspan="1"><a href="#HCE">HCE</a></td><td class="lr" colspan="1"><a href="#SMD">SMD</a></td><td class="lr">0</td><td class="l">1</td><td class="r">1</td><td class="lr" colspan="1"><a href="#EA">EA</a></td><td class="lr" colspan="1"><a href="#FIQ">FIQ</a></td><td class="lr" colspan="1"><a href="#IRQ">IRQ</a></td><td class="lr" colspan="1"><a href="#NS">NS</a></td></tr></tbody></table><h4 id="0">
                Bits [31:16]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="TERR">TERR, bit [15]
              </h4>
              <p>Trap Error record accesses. If the RAS Extension is implemented, the possible values of this bit are:</p>
            <table class="valuetable"><tr><th>TERR</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>Does not trap accesses to record registers from EL1 and EL2 to EL3.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>Accesses to the ER* registers from EL1 and EL2 generate a Trap exception to EL3.</p>
                </td></tr></table>
              <p>This bit resets to 0 on Warm reset.</p>
            
              <p>When the RAS Extension is not implemented, this field is <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="TLOR">TLOR, bit [14]
              <font style="font-size:smaller;"><br />
            In 
            ARMv8.1:</font></h4>
              <p>Trap LOR registers. Traps accesses to the <a href="AArch64-lorsa_el1.html">LORSA_EL1</a>, <a href="AArch64-lorea_el1.html">LOREA_EL1</a>, <a href="AArch64-lorn_el1.html">LORN_EL1</a>, <a href="AArch64-lorc_el1.html">LORC_EL1</a>, and <a href="AArch64-lorid_el1.html">LORID_EL1</a> registers from EL1 and EL2 to EL3, unless the access has been trapped to EL2.</p>
            <table class="valuetable"><tr><th>TLOR</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>This control does not cause any instructions to be trapped.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>EL1 and EL2 accesses to the LOR registers that are not <span class="arm-defined-word">UNDEFINED</span> are trapped to EL3, unless it is trapped <a href="AArch64-hcr_el2.html">HCR_EL2</a>.TLOR.</p>
                </td></tr></table>
              <p>When <a href="AArch64-hcr_el2.html">HCR_EL2</a>.TGE is 1, the PE ignores the value of this field for all purposes other than a direct read of this field.</p>
            <h4 id="0"><font style="font-size:smaller;"><br />
            In 
            ARMv8.0:</font></h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="TWE">TWE, bit [13]
              </h4>
              <p>Traps EL2, EL1, and EL0 execution of WFE instructions to EL3, from both Security states and both Execution states.</p>
            <table class="valuetable"><tr><th>TWE</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>This control does not cause any instructions to be trapped.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>Any attempt to execute a WFE instruction at any Exception level lower than EL3 is trapped to EL3, if the instruction would otherwise have caused the PE to enter a low-power state and it is not trapped by <a href="AArch32-sctlr.html">SCTLR</a>.nTWE, <a href="AArch32-hcr.html">HCR</a>.TWE, <a href="AArch64-sctlr_el1.html">SCTLR_EL1</a>.nTWE, <a href="AArch64-sctlr_el2.html">SCTLR_EL2</a>.nTWE, or <a href="AArch64-hcr_el2.html">HCR_EL2</a>.TWE.</p>
                </td></tr></table>
              <p>In AArch32 state, the attempted execution of a conditional WFE instruction is only trapped if the instruction passes its condition code check.</p>
            
              <div class="note"><span class="note-header">Note</span>
                <p>Since a WFE or WFI can complete at any time, even without a Wakeup event, the traps on WFE of WFI are not guaranteed to be taken, even if the WFE or WFI is executed when there is no Wakeup event. The only guarantee is that if the instruction does not complete in finite time in the absence of a Wakeup event, the trap will be taken.</p>
              </div>
            <h4 id="TWI">TWI, bit [12]
              </h4>
              <p>Traps EL2, EL1, and EL0 execution of WFI instructions to EL3, from both Security states and both Execution states.</p>
            <table class="valuetable"><tr><th>TWI</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>This control does not cause any instructions to be trapped.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>Any attempt to execute a WFI instruction at any Exception level lower than EL3 is trapped to EL3, if the instruction would otherwise have caused the PE to enter a low-power state and it is not trapped by <a href="AArch32-sctlr.html">SCTLR</a>.nTWI, <a href="AArch32-hcr.html">HCR</a>.TWI, <a href="AArch64-sctlr_el1.html">SCTLR_EL1</a>.nTWI, <a href="AArch64-sctlr_el2.html">SCTLR_EL2</a>.nTWI, or <a href="AArch64-hcr_el2.html">HCR_EL2</a>.TWI.</p>
                </td></tr></table>
              <p>In AArch32 state, the attempted execution of a conditional WFI instruction is only trapped if the instruction passes its condition code check.</p>
            
              <div class="note"><span class="note-header">Note</span>
                <p>Since a WFE or WFI can complete at any time, even without a Wakeup event, the traps on WFE of WFI are not guaranteed to be taken, even if the WFE or WFI is executed when there is no Wakeup event. The only guarantee is that if the instruction does not complete in finite time in the absence of a Wakeup event, the trap will be taken.</p>
              </div>
            <h4 id="ST">ST, bit [11]
              </h4>
              <p>Traps Secure EL1 accesses to the Counter-timer Physical Secure timer registers to EL3, from AArch64 state only.</p>
            <table class="valuetable"><tr><th>ST</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>Secure EL1 using AArch64 accesses to the <a href="AArch64-cntps_tval_el1.html">CNTPS_TVAL_EL1</a>, <a href="AArch64-cntps_ctl_el1.html">CNTPS_CTL_EL1</a>, and <a href="AArch64-cntps_cval_el1.html">CNTPS_CVAL_EL1</a> are trapped to EL3.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>This control does not cause any instructions to be trapped.</p>
                </td></tr></table><h4 id="RW">RW, bit [10]
              </h4>
              <p>Execution state control for lower Exception levels.</p>
            <table class="valuetable"><tr><th>RW</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>Lower levels are all AArch32.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>The next lower level is AArch64.</p>
                
                  <p>If EL2 is present:</p>
                
                  <ul>
                    <li>
                      EL2 is AArch64.
                    </li>
                    <li>
                      EL2 controls EL1 and EL0 behaviors.
                    </li>
                  </ul>
                
                  <p>If EL2 is not present:</p>
                
                  <ul>
                    <li>
                      EL1 is AArch64.
                    </li>
                    <li>
                      EL0 is determined by the Execution state described in the current process state when executing at EL0.
                    </li>
                  </ul>
                </td></tr></table>
              <p>If all lower Exception levels cannot use AArch32 then this bit is RAO/WI.</p>
            
              <p>This bit is permitted to be cached in a TLB.</p>
            <h4 id="SIF">SIF, bit [9]
              </h4>
              <p>Secure instruction fetch. When the PE is in Secure state, this bit disables instruction fetch from Non-secure memory. The possible values for this bit are:</p>
            <table class="valuetable"><tr><th>SIF</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>Secure state instruction fetches from Non-secure memory are permitted.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>Secure state instruction fetches from Non-secure memory are not permitted.</p>
                </td></tr></table>
              <p>This bit is permitted to be cached in a TLB.</p>
            <h4 id="HCE">HCE, bit [8]
              </h4>
              <p>Hypervisor Call instruction enable. Enables HVC instructions at EL3, EL2, and Non-secure EL1, in both Execution states.</p>
            <table class="valuetable"><tr><th>HCE</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>HVC instructions are <span class="arm-defined-word">UNDEFINED</span> at EL3, EL2, and Non-secure EL1, and any resulting exception is taken from the current Exception level to the current Exception level.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>HVC instructions are enabled at EL1 and above.</p>
                </td></tr></table>
              <div class="note"><span class="note-header">Note</span>
                <p>HVC instructions are always <span class="arm-defined-word">UNDEFINED</span> at EL0.</p>
              </div>
            
              <p>If EL2 is not implemented, this bit is <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="SMD">SMD, bit [7]
              </h4>
              <p>Secure Monitor Call disable. Disables SMC instructions at EL1 and above, from both Security states and both Execution states.</p>
            <table class="valuetable"><tr><th>SMD</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>SMC instructions are enabled at EL1 and above.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>SMC instructions are <span class="arm-defined-word">UNDEFINED</span> at EL1 and above.</p>
                </td></tr></table>
              <div class="note"><span class="note-header">Note</span>
                <p>SMC instructions are always <span class="arm-defined-word">UNDEFINED</span> at EL0.</p>
              </div>
            <h4 id="0">
                Bit [6]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="1">
                Bits [5:4]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES1</span>.</p>
            <h4 id="EA">EA, bit [3]
              </h4>
              <p>External Abort and SError Interrupt Routing.</p>
            <table class="valuetable"><tr><th>EA</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>When executing at Exception levels below EL3, External Aborts and SError Interrupts are not taken to EL3.</p>
                
                  <p>In addition, when executing at EL3:</p>
                
                  <ul>
                    <li>
                      SError Interrupts are not taken.
                    </li>
                    <li>
                      External Aborts are taken to EL3.
                    </li>
                  </ul>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>When executing at any Exception level, External Aborts and SError Interrupts are taken to EL3.</p>
                </td></tr></table>
              <p>For more information, see <span class="xref">'Asynchronous exception routing' in the ARMv8 ARM, section D1 (The AArch64 System Level Programmers' Model)</span>.</p>
            <h4 id="FIQ">FIQ, bit [2]
              </h4>
              <p>Physical FIQ Routing.</p>
            <table class="valuetable"><tr><th>FIQ</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>When executing at Exception levels below EL3, physical FIQ interrupts are not taken to EL3.</p>
                
                  <p>When executing at EL3, physical FIQ interrupts are not taken.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>When executing at any Exception level, physical FIQ interrupts are taken to EL3.</p>
                </td></tr></table>
              <p>For more information, see <span class="xref">'Asynchronous exception routing' in the ARMv8 ARM, section D1</span>.</p>
            <h4 id="IRQ">IRQ, bit [1]
              </h4>
              <p>Physical IRQ Routing.</p>
            <table class="valuetable"><tr><th>IRQ</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>When executing at Exception levels below EL3, physical IRQ interrupts are not taken to EL3.</p>
                
                  <p>When executing at EL3, physical IRQ interrupts are not taken.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>When executing at any Exception level, physical IRQ interrupts are taken to EL3.</p>
                </td></tr></table>
              <p>For more information, see <span class="xref">'Asynchronous exception routing' in the ARMv8 ARM, section D1</span>.</p>
            <h4 id="NS">NS, bit [0]
              </h4>
              <p>Non-secure bit.</p>
            <table class="valuetable"><tr><th>NS</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>Indicates that EL0 and EL1 are in Secure state, and so memory accesses from those Exception levels can access Secure memory.</p>
                
                  <p>When executing at EL3:</p>
                
                  <ul>
                    <li>
                      The <a href="AArch64-at-s1e2r.html">AT S1E2R</a>, <a href="AArch64-at-s1e2w.html">AT S1E2W</a>, <a href="AArch64-tlbi-vae2.html">TLBI VAE2</a>, <a href="AArch64-tlbi-vale2.html">TLBI VALE2</a>, <a href="AArch64-tlbi-vae2is.html">TLBI VAE2IS</a>, <a href="AArch64-tlbi-vale2is.html">TLBI VALE2IS</a>, <a href="AArch64-tlbi-alle2.html">TLBI ALLE2</a>, and <a href="AArch64-tlbi-alle2is.html">TLBI ALLE2IS</a> System instructions are <span class="arm-defined-word">UNDEFINED</span>.
                    </li>
                    <li>
                      Each AT S12E** System instruction executes as the corresponding AT S1E** instruction. For example, <a href="AArch64-at-s12e0r.html">AT S12E0R</a> executes as <a href="AArch64-at-s1e0r.html">AT S1E0R</a>.
                    </li>
                    <li>
                      Each of the <a href="AArch64-tlbi-ipas2e1.html">TLBI IPAS2E1</a>, <a href="AArch64-tlbi-ipas2e1is.html">TLBI IPAS2E1IS</a>, <a href="AArch64-tlbi-ipas2le1.html">TLBI IPAS2LE1</a>, and <a href="AArch64-tlbi-ipas2le1is.html">TLBI IPAS2LE1IS</a> System instructions executes as a NOP.
                    </li>
                    <li>
                      A <a href="AArch64-tlbi-vmalls12e1.html">TLBI VMALLS12E1</a> System instruction executes as <a href="AArch64-tlbi-vmalle1.html">TLBI VMALLE1</a>, and a <a href="AArch64-tlbi-vmalls12e1is.html">TLBI VMALLS12E1IS</a> System instruction executes as <a href="AArch64-tlbi-vmalle1is.html">TLBI VMALLE1IS</a>.
                    </li>
                  </ul>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>Indicates that EL0 and EL1 are in Non-secure state, and so memory accesses from those Exception levels cannot access Secure memory.</p>
                </td></tr></table>
              <div class="note"><span class="note-header">Note</span>
                <p>EL2 is not supported in the Secure state. When SCR_EL3.NS==0, it is not possible to enter EL2, and the EL2 state has no effect on execution. See <span class="xref">'Virtualization' in the ARMv8 ARM, section D1.5</span>.</p>
              </div>
            <div class="access_mechanisms"><h2>Accessing the SCR_EL3</h2><div class="access_instructions"><div class="access_instruction"><p>This register can be read using MRS with the following syntax:</p><p class="asm-code">MRS  &lt;Xt&gt;, &lt;systemreg&gt;</p></div><div class="access_instruction"><p>This register can be written using MSR (register) with the following syntax:</p><p class="asm-code">MSR  &lt;systemreg&gt;, &lt;Xt&gt;</p></div><p>This syntax uses the following encoding in the System instruction encoding space:</p><table class="access_instructions"><tr><th rowspan="1">
        &lt;systemreg&gt;
      </th><th>op0</th><th>op1</th><th>CRn</th><th>CRm</th><th>op2</th></tr><tr><td>SCR_EL3</td><td>11</td><td>110</td><td>0001</td><td>0001</td><td>000</td></tr></table></div><h3>Accessibility</h3><p>The register is accessible as follows:</p><table class="accessibility"><tr><th class="accessibility_control" colspan="3">
            Control
          </th><th colspan="4">
          Accessibility
        </th></tr><tr><th class="accessibility_control">E2H</th><th class="accessibility_control">TGE</th><th class="accessibility_control">NS</th><th>EL0</th><th>EL1</th><th>EL2</th><th>EL3</th></tr><tr><td class="accessibility_control">x</td><td class="accessibility_control">x</td><td class="accessibility_control">0</td><td>
        -
      </td><td>
        -
      </td><td>
        n/a
      </td><td>RW</td></tr><tr><td class="accessibility_control">0</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        -
      </td><td>
        -
      </td><td>RW</td></tr><tr><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        n/a
      </td><td>
        -
      </td><td>RW</td></tr><tr><td class="accessibility_control">1</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        -
      </td><td>
        -
      </td><td>RW</td></tr><tr><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        n/a
      </td><td>
        -
      </td><td>RW</td></tr></table><p><p>This table applies to all instructions that can access this register.</p></p></div><br /><br /><hr /><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><p class="versions">24/03/2017 16:41</p><p class="copyconf">Copyright Â© 2010-2017 ARM Limited or its affiliates. All rights reserved. This document is Confidential.</p></body>
</html>
