<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>FAR_EL2</title>
    <link href="insn.css" rel="stylesheet" type="text/css" />
  </head>
  <body><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><hr /><h1 class="register-section">FAR_EL2, Fault Address Register (EL2)</h1><p>The FAR_EL2 characteristics are:</p><h2>Purpose</h2>
          <p>Holds the faulting Virtual Address for all synchronous Instruction or Data Abort, PC alignment fault and Watchpoint exceptions that are taken to EL2.</p>
        <p>This 
        register
       is part of:</p><ul><li>The Virtualization registers functional group.</li><li>The Exception and fault handling registers functional group.</li></ul><h2>Configuration</h2><p>AArch64 System register FAR_EL2 bits [31:0]
        
                are architecturally mapped to
              AArch32 System register <a href="AArch32-hdfar.html">HDFAR</a>.
          </p><p>AArch64 System register FAR_EL2 bits [63:32]
        
                are architecturally mapped to
              AArch32 System register <a href="AArch32-hifar.html">HIFAR</a>.
          </p><p>AArch64 System register FAR_EL2 bits [31:0]
        
                are architecturally mapped to
              AArch32 System register <a href="AArch32-dfar.html">DFAR
          (S)
        </a> when EL2 is implemented.
          </p><p>AArch64 System register FAR_EL2 bits [63:32]
        
                are architecturally mapped to
              AArch32 System register <a href="AArch32-ifar.html">IFAR
          (S)
        </a> when EL2 is implemented.
          </p>
          <p>If EL2 is not implemented, this register is <span class="arm-defined-word">RES0</span> from EL3.</p>
        <p>
                RW fields in this register reset to architecturally <span class="arm-defined-word">UNKNOWN</span> values.
              </p><h2>Attributes</h2>
          <p>FAR_EL2 is a 64-bit register.</p>
        <h2>Field descriptions</h2><p>The FAR_EL2 bit assignments are:</p><table class="regdiagram"><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td></tr></thead><tbody><tr class="firstrow"><td class="lr" colspan="32"><a href="#FaultingVirtualAddressforsynchronousexceptionstakentoEL2">Faulting Virtual Address for synchronous exceptions taken to EL2</a></td></tr><tr class="firstrow"><td class="lr" colspan="32"><a href="#FaultingVirtualAddressforsynchronousexceptionstakentoEL2">Faulting Virtual Address for synchronous exceptions taken to EL2</a></td></tr></tbody><tfoot><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></tfoot></table><h4 id="FaultingVirtualAddressforsynchronousexceptionstakentoEL2">
                Bits [63:0]
              </h4>
              <p>Faulting Virtual Address for synchronous exceptions taken to EL2. Exceptions that set the FAR_EL2 are  Instruction Aborts (EC <span class="hexnumber">0x20</span> or <span class="hexnumber">0x21</span>), Data Aborts (EC <span class="hexnumber">0x24</span> or <span class="hexnumber">0x25</span>), PC alignment faults (EC <span class="hexnumber">0x22</span>), and Watchpoints (EC <span class="hexnumber">0x34</span> or <span class="hexnumber">0x35</span>). <a href="AArch64-esr_el2.html">ESR_EL2</a>.EC holds the EC value for the exception.</p>
            
              <p>For a synchronous external abort, if the VA that generated the abort was from an address range for which <span class="xref">TCR_ELx</span>.TBI{&lt;0|1&gt;} == 1 for the translation regime in use when the abort was generated, then the top eight bits of FAR_EL2 are <span class="arm-defined-word">UNKNOWN</span>.</p>
            
              <p>For a synchronous external abort other than a synchronous external abort on a translation table walk, this field is valid only if <a href="AArch64-esr_el2.html">ESR_EL2</a>.FnV is 0, and the FAR_EL2 is <span class="arm-defined-word">UNKNOWN</span> if <a href="AArch64-esr_el2.html">ESR_EL2</a>.FnV is 1.</p>
            
              <p>For all other exceptions taken to EL2, the FAR_EL2 is <span class="arm-defined-word">UNKNOWN</span>.</p>
            
              <p>If a memory fault that sets FAR_EL2 is generated from a data cache maintenance or DC ZVA instruction, this field holds the address specified in the register argument of the instruction.</p>
            
              <p>If the exception that updates FAR_EL2 is taken from an Exception level that is using AArch32, the top 32-bits are all zero, unless the faulting address is generated by a load or store instruction that sequentially increments from address <span class="hexnumber">0xFFFFFFFF</span>. This is an <span class="arm-defined-word">UNPREDICTABLE</span> condition, and in this case the upper 32-bits are set to <span class="hexnumber">0x00000001</span>.</p>
            
              <p>For a Data Abort or Watchpoint exception, if address tagging is enabled for the address accessed by the data access that caused the exception, then this field includes the tag. For more information about address tagging, see <span class="xref">'Address tagging in AArch64 state' in the ARMv8 ARM</span>.</p>
            
              <div class="note"><span class="note-header">Note</span>
                <p>The address held in this field is an address accessed by the instruction fetch or data access that caused the exception that  gave rise to the instruction or data abort. It is the lower address that gave rise to the fault. Where different faults from different addresses arise from the same instruction, such as for an instruction that loads or stores a mis-aligned address that crosses a page boundary, the architecture does not prioritize between those different faults.</p>
              </div>
            
              <p>FAR_EL2 is made <span class="arm-defined-word">UNKNOWN</span> on an exception return from EL2.</p>
            <div class="access_mechanisms"><h2>Accessing the FAR_EL2</h2><div class="access_instructions"><div class="access_instruction"><p>This register can be read using MRS with the following syntax:</p><p class="asm-code">MRS  &lt;Xt&gt;, &lt;systemreg&gt;</p></div><div class="access_instruction"><p>This register can be written using MSR (register) with the following syntax:</p><p class="asm-code">MSR  &lt;systemreg&gt;, &lt;Xt&gt;</p></div><p>This syntax uses the following encoding in the System instruction encoding space:</p><table class="access_instructions"><tr><th rowspan="1">
        &lt;systemreg&gt;
      </th><th>op0</th><th>op1</th><th>CRn</th><th>CRm</th><th>op2</th></tr><tr><td>FAR_EL2</td><td>11</td><td>100</td><td>0110</td><td>0000</td><td>000</td></tr><tr><td>FAR_EL1</td><td>11</td><td>000</td><td>0110</td><td>0000</td><td>000</td></tr></table></div><h3>Accessibility</h3><p>The register is accessible as follows:</p><table class="accessibility"><tr><th rowspan="2">
        &lt;systemreg&gt;
      </th><th class="accessibility_control" colspan="3">
            Control
          </th><th colspan="4">
          Accessibility
        </th></tr><tr><th class="accessibility_control">E2H</th><th class="accessibility_control">TGE</th><th class="accessibility_control">NS</th><th>EL0</th><th>EL1</th><th>EL2</th><th>EL3</th></tr><tr><td>FAR_EL2</td><td class="accessibility_control">x</td><td class="accessibility_control">x</td><td class="accessibility_control">0</td><td>
        -
      </td><td>
        -
      </td><td>
        n/a
      </td><td>RW</td></tr><tr><td>FAR_EL2</td><td class="accessibility_control">0</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        -
      </td><td>RW</td><td>RW</td></tr><tr><td>FAR_EL2</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        n/a
      </td><td>RW</td><td>RW</td></tr><tr><td>FAR_EL2</td><td class="accessibility_control">1</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        -
      </td><td>RW</td><td>RW</td></tr><tr><td>FAR_EL2</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        n/a
      </td><td>RW</td><td>RW</td></tr><tr><td>FAR_EL1</td><td class="accessibility_control">x</td><td class="accessibility_control">x</td><td class="accessibility_control">0</td><td>
        -
      </td><td><a href="AArch64-far_el1.html">
                              FAR_EL1
                              </a></td><td>
        n/a
      </td><td><a href="AArch64-far_el1.html">
                              FAR_EL1
                              </a></td></tr><tr><td>FAR_EL1</td><td class="accessibility_control">0</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td>
        -
      </td><td><a href="AArch64-far_el1.html">
                              FAR_EL1
                              </a></td><td><a href="AArch64-far_el1.html">
                              FAR_EL1
                              </a></td><td><a href="AArch64-far_el1.html">
                              FAR_EL1
                              </a></td></tr><tr><td>FAR_EL1</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        n/a
      </td><td><a href="AArch64-far_el1.html">
                              FAR_EL1
                              </a></td><td><a href="AArch64-far_el1.html">
                              FAR_EL1
                              </a></td></tr><tr><td>FAR_EL1</td><td class="accessibility_control">1</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td>
        -
      </td><td><a href="AArch64-far_el1.html">
                              FAR_EL1
                              </a></td><td>RW</td><td><a href="AArch64-far_el1.html">
                              FAR_EL1
                              </a></td></tr><tr><td>FAR_EL1</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        n/a
      </td><td>RW</td><td><a href="AArch64-far_el1.html">
                              FAR_EL1
                              </a></td></tr></table>
            <p>When <a href="AArch64-hcr_el2.html">HCR_EL2</a>.E2H is 1, without explicit synchronization, access from EL2 using the mnemonic FAR_EL2 or FAR_EL1 are not guaranteed to be ordered with respect to accesses using the other mnemonic.</p>
          </div><br /><br /><hr /><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><p class="versions">24/03/2017 16:41</p><p class="copyconf">Copyright © 2010-2017 ARM Limited or its affiliates. All rights reserved. This document is Confidential.</p></body>
</html>
