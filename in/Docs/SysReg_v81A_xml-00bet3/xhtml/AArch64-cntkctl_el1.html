<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>CNTKCTL_EL1</title>
    <link href="insn.css" rel="stylesheet" type="text/css" />
  </head>
  <body><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><hr /><h1 class="register-section">CNTKCTL_EL1, Counter-timer Kernel Control register</h1><p>The CNTKCTL_EL1 characteristics are:</p><h2>Purpose</h2>
          <p>When <span class="xref">ARMv8.1-VHE</span> is not implemented, or when <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is not {1, 1}, this register controls the generation of an event stream from the virtual counter, and access from EL0 to the physical counter, virtual counter, EL1 physical timers, and the virtual timer.</p>
        
          <p>When <span class="xref">ARMv8.1-VHE</span> is implemented and <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is {1, 1}, this register does not cause any event stream from the virtual counter to be generated, and does not control access to the counters and timers. The access to counters and timers at EL0 is controlled by <a href="AArch64-cnthctl_el2.html">CNTHCTL_EL2</a>.</p>
        <p>This 
        register
       is part of the Generic Timer registers functional group.</p><h2>Configuration</h2><p>AArch64 System register CNTKCTL_EL1
                is architecturally mapped to
              AArch32 System register <a href="AArch32-cntkctl.html">CNTKCTL</a>.
          </p><p>
                RW fields in this register reset to architecturally <span class="arm-defined-word">UNKNOWN</span> values.
              </p><h2>Attributes</h2>
          <p>CNTKCTL_EL1 is a 32-bit register.</p>
        <h2>Field descriptions</h2><p>The CNTKCTL_EL1 bit assignments are:</p><table class="regdiagram"><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr class="firstrow"><td class="l">0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td class="r">0</td><td class="lr" colspan="1"><a href="#EL0PTEN">EL0PTEN</a></td><td class="lr" colspan="1"><a href="#EL0VTEN">EL0VTEN</a></td><td class="lr" colspan="4"><a href="#EVNTI">EVNTI</a></td><td class="lr" colspan="1"><a href="#EVNTDIR">EVNTDIR</a></td><td class="lr" colspan="1"><a href="#EVNTEN">EVNTEN</a></td><td class="lr" colspan="1"><a href="#EL0VCTEN">EL0VCTEN</a></td><td class="lr" colspan="1"><a href="#EL0PCTEN">EL0PCTEN</a></td></tr></tbody></table><h4 id="0">
                Bits [31:10]
              </h4>
              <p>Reserved, <span class="arm-defined-word">RES0</span>.</p>
            <h4 id="EL0PTEN">EL0PTEN, bit [9]
              </h4>
              <p>When <span class="xref">ARMv8.1-VHE</span> is not implemented, or when <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is not {1, 1}, traps EL0 accesses to the physical timer registers to EL1.</p>
            <table class="valuetable"><tr><th>EL0PTEN</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>EL0 using AArch64: EL0 accesses to the <a href="AArch64-cntp_ctl_el0.html">CNTP_CTL_EL0</a>, <a href="AArch64-cntp_cval_el0.html">CNTP_CVAL_EL0</a>, and <a href="AArch64-cntp_tval_el0.html">CNTP_TVAL_EL0</a> registers are trapped to EL1.</p>
                
                  <p>EL0 using AArch32: EL0 accesses to the <a href="AArch32-cntp_ctl.html">CNTP_CTL</a>, <a href="AArch32-cntp_cval.html">CNTP_CVAL</a>, and <a href="AArch32-cntp_tval.html">CNTP_TVAL</a> registers are trapped to EL1.</p>
                
                  <p>When <a href="AArch64-hcr_el2.html">HCR_EL2</a>.TGE is 1, this trap is routed to EL2.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>This control does not cause any instructions to be trapped.</p>
                </td></tr></table>
              <p>When <span class="xref">ARMv8.1-VHE</span> is implemented and <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is {1, 1}, this control does not cause any instructions to be trapped.</p>
            <h4 id="EL0VTEN">EL0VTEN, bit [8]
              </h4>
              <p>When <span class="xref">ARMv8.1-VHE</span> is not implemented, or when <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is not {1, 1}, traps EL0 accesses to the virtual timer registers to EL1.</p>
            <table class="valuetable"><tr><th>EL0VTEN</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>EL0 using AArch64: EL0 accesses to the <a href="AArch64-cntv_ctl_el0.html">CNTV_CTL_EL0</a>, <a href="AArch64-cntv_cval_el0.html">CNTV_CVAL_EL0</a>, and <a href="AArch64-cntv_tval_el0.html">CNTV_TVAL_EL0</a> registers are trapped to EL1.</p>
                
                  <p>EL0 using AArch32: EL0 accesses to the <a href="AArch32-cntv_ctl.html">CNTV_CTL</a>, <a href="AArch32-cntv_cval.html">CNTV_CVAL</a>, and <a href="AArch32-cntv_tval.html">CNTV_TVAL</a> registers are trapped to EL1.</p>
                
                  <p>When <a href="AArch64-hcr_el2.html">HCR_EL2</a>.TGE is 1, this trap is routed to EL2.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>This control does not cause any instructions to be trapped.</p>
                </td></tr></table>
              <p>When <span class="xref">ARMv8.1-VHE</span> is implemented and <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is {1, 1}, this control does not cause any instructions to be trapped.</p>
            <h4 id="EVNTI">EVNTI, bits [7:4]
                  </h4>
              <p>Selects which bit (0 to 15) of the counter register <a href="AArch64-cntvct_el0.html">CNTVCT_EL0</a> is the trigger for the event stream generated from that counter, when that stream is enabled.</p>
            <h4 id="EVNTDIR">EVNTDIR, bit [3]
              </h4>
              <p>Controls which transition of the counter register <a href="AArch64-cntvct_el0.html">CNTVCT_EL0</a> trigger bit, defined by EVNTI, generates an event when the event stream is enabled:</p>
            <table class="valuetable"><tr><th>EVNTDIR</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>A 0 to 1 transition of the trigger bit triggers an event.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>A 1 to 0 transition of the trigger bit triggers an event.</p>
                </td></tr></table><h4 id="EVNTEN">EVNTEN, bit [2]
              </h4>
              <p>When <span class="xref">ARMv8.1-VHE</span> is not implemented, or when <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is not {1, 1}, enables the generation of an event stream from the counter register <a href="AArch64-cntvct_el0.html">CNTVCT_EL0</a>:</p>
            <table class="valuetable"><tr><th>EVNTEN</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>Disables the event stream.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>Enables the event stream.</p>
                </td></tr></table>
              <p>When <span class="xref">ARMv8.1-VHE</span> is implemented and <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is {1, 1}, this control does not enable the event stream.</p>
            <h4 id="EL0VCTEN">EL0VCTEN, bit [1]
              </h4>
              <p>When <span class="xref">ARMv8.1-VHE</span> is not implemented, or when <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is not {1, 1}, traps EL0 accesses to the frequency register and virtual counter register to EL1.</p>
            <table class="valuetable"><tr><th>EL0VCTEN</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>EL0 using AArch64: EL0 accesses to the <a href="AArch64-cntvct_el0.html">CNTVCT_EL0</a> are trapped to EL1.</p>
                
                  <p>EL0 using AArch64: EL0 accesses to the <a href="AArch64-cntfrq_el0.html">CNTFRQ_EL0</a> register are trapped to EL1, if <a href="AArch64-cntkctl_el1.html">CNTKCTL_EL1</a>.EL0PCTEN is also 0.</p>
                
                  <p>EL0 using AArch32: EL0 accesses to the <a href="AArch32-cntvct.html">CNTVCT</a> are trapped to EL1.</p>
                
                  <p>EL0 using AArch32: EL0 accesses to the <a href="AArch32-cntfrq.html">CNTFRQ</a> register are trapped to EL1, if <a href="AArch64-cntkctl_el1.html">CNTKCTL_EL1</a>.EL0PCTEN is also 0. </p>
                
                  <p>When <a href="AArch64-hcr_el2.html">HCR_EL2</a>.TGE is 1, this trap is routed to EL2.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>This control does not cause any instructions to be trapped.</p>
                </td></tr></table>
              <p>When <span class="xref">ARMv8.1-VHE</span> is implemented and <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is {1, 1}, this control does not cause any instructions to be trapped.</p>
            <h4 id="EL0PCTEN">EL0PCTEN, bit [0]
              </h4>
              <p>When <span class="xref">ARMv8.1-VHE</span> is not implemented, or when <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is not {1, 1}, traps EL0 accesses to the frequency register and physical counter register to EL1.</p>
            <table class="valuetable"><tr><th>EL0PCTEN</th><th>Meaning</th></tr><tr><td class="bitfield">0</td><td>
                  <p>EL0 using AArch64: EL0 accesses to the <a href="AArch64-cntpct_el0.html">CNTPCT_EL0</a> are trapped to EL1.</p>
                
                  <p>EL0 using AArch64: EL0 accesses to the <a href="AArch64-cntfrq_el0.html">CNTFRQ_EL0</a> register are trapped to EL1, if <a href="AArch64-cntkctl_el1.html">CNTKCTL_EL1</a>.EL0VCTEN is also 0.</p>
                
                  <p>EL0 using AArch32: EL0 accesses to the <a href="AArch32-cntpct.html">CNTPCT</a> are trapped to EL1.</p>
                
                  <p>EL0 using AArch32: EL0 accesses to the <a href="AArch32-cntfrq.html">CNTFRQ</a> and register are trapped to EL1, if <a href="AArch64-cntkctl_el1.html">CNTKCTL_EL1</a>.EL0VCTEN is also 0.</p>
                
                  <p>When <a href="AArch64-hcr_el2.html">HCR_EL2</a>.TGE is 1, this trap is routed to EL2.</p>
                </td></tr><tr><td class="bitfield">1</td><td>
                  <p>This control does not cause any instructions to be trapped.</p>
                </td></tr></table>
              <p>When <span class="xref">ARMv8.1-VHE</span> is implemented and <a href="AArch64-hcr_el2.html">HCR_EL2</a>.{E2H, TGE} is {1, 1}, this control does not cause any instructions to be trapped.</p>
            <div class="access_mechanisms"><h2>Accessing the CNTKCTL_EL1</h2><div class="access_instructions"><div class="access_instruction"><p>This register can be read using MRS with the following syntax:</p><p class="asm-code">MRS  &lt;Xt&gt;, &lt;systemreg&gt;</p></div><div class="access_instruction"><p>This register can be written using MSR (register) with the following syntax:</p><p class="asm-code">MSR  &lt;systemreg&gt;, &lt;Xt&gt;</p></div><p>This syntax uses the following encoding in the System instruction encoding space:</p><table class="access_instructions"><tr><th rowspan="1">
        &lt;systemreg&gt;
      </th><th>op0</th><th>op1</th><th>CRn</th><th>CRm</th><th>op2</th></tr><tr><td>CNTKCTL_EL1</td><td>11</td><td>000</td><td>1110</td><td>0001</td><td>000</td></tr><tr><td>CNTKCTL_EL12</td><td>11</td><td>101</td><td>1110</td><td>0001</td><td>000</td></tr></table></div><h3>Accessibility</h3><p>The register is accessible as follows:</p><table class="accessibility"><tr><th rowspan="2">
        &lt;systemreg&gt;
      </th><th class="accessibility_control" colspan="3">
            Control
          </th><th colspan="4">
          Accessibility
        </th></tr><tr><th class="accessibility_control">E2H</th><th class="accessibility_control">TGE</th><th class="accessibility_control">NS</th><th>EL0</th><th>EL1</th><th>EL2</th><th>EL3</th></tr><tr><td>CNTKCTL_EL1</td><td class="accessibility_control">x</td><td class="accessibility_control">x</td><td class="accessibility_control">0</td><td>
        -
      </td><td>RW</td><td>
        n/a
      </td><td>RW</td></tr><tr><td>CNTKCTL_EL1</td><td class="accessibility_control">0</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td>
        -
      </td><td>RW</td><td>RW</td><td>RW</td></tr><tr><td>CNTKCTL_EL1</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        n/a
      </td><td>RW</td><td>RW</td></tr><tr><td>CNTKCTL_EL1</td><td class="accessibility_control">1</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td>
        -
      </td><td>RW</td><td><a href="AArch64-cnthctl_el2.html">
                              CNTHCTL_EL2
                              </a></td><td>RW</td></tr><tr><td>CNTKCTL_EL1</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        n/a
      </td><td><a href="AArch64-cnthctl_el2.html">
                              CNTHCTL_EL2
                              </a></td><td>RW</td></tr><tr><td>CNTKCTL_EL12</td><td class="accessibility_control">x</td><td class="accessibility_control">x</td><td class="accessibility_control">0</td><td>
        -
      </td><td>
        -
      </td><td>
        n/a
      </td><td>
        -
      </td></tr><tr><td>CNTKCTL_EL12</td><td class="accessibility_control">0</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        -
      </td><td>
        -
      </td><td>
        -
      </td></tr><tr><td>CNTKCTL_EL12</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        n/a
      </td><td>
        -
      </td><td>
        -
      </td></tr><tr><td>CNTKCTL_EL12</td><td class="accessibility_control">1</td><td class="accessibility_control">0</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        -
      </td><td>RW</td><td>RW</td></tr><tr><td>CNTKCTL_EL12</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td class="accessibility_control">1</td><td>
        -
      </td><td>
        n/a
      </td><td>RW</td><td>RW</td></tr></table>
            <p>When <a href="AArch64-hcr_el2.html">HCR_EL2</a>.E2H is 1, without explicit synchronization, access from EL3 using the mnemonic CNTKCTL_EL1 or CNTKCTL_EL12 are not guaranteed to be ordered with respect to accesses using the other mnemonic.</p>
          </div><br /><br /><hr /><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td></tr></table><p class="versions">24/03/2017 16:41</p><p class="copyconf">Copyright © 2010-2017 ARM Limited or its affiliates. All rights reserved. This document is Confidential.</p></body>
</html>
